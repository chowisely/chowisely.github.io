---
layout:		post
title:    "[BOJ] 17135ë²ˆ ìºìŠ¬ ë””íœìŠ¤"
date:     2021-02-05 12:00:00 +0930
tags:     [ì•Œê³ ë¦¬ì¦˜, êµ¬í˜„, dfs]
series:   BOJ
comments: true
---

#### [ë¬¸ì œ ë°”ë¡œê°€ê¸°](https://www.acmicpc.net/problem/17135)

#### [ì‚¼ì„± ì—­ëŸ‰ í…ŒìŠ¤íŠ¸ Aí˜• ê¸°ì¶œë¬¸ì œ]

#### ì ‘ê·¼
ì‚¼ì„± ì—­í…Œë‹µê²Œ êµ¬í˜„+ê·¸ë˜í”„ íƒìƒ‰ì˜ ì¡°í•©ìœ¼ë¡œ í‘¸ëŠ” ë¬¸ì œë‹¤.

ê¶ìˆ˜ë¥¼ ë°°ì¹˜í•  ìˆ˜ ìˆëŠ” ê²½ìš°ì˜ ìˆ˜ì— ëŒ€í•˜ì—¬ ì‹œë®¬ë ˆì´ì…˜ì„ í•œ ë’¤, ì ì„ ì œì™¸ì‹œí‚¬ ìˆ˜ ìˆëŠ” ìµœëŒ€ê°’ì„ êµ¬í•˜ë©´ ë˜ê² ë‹¤. ê³ ë ¤í•´ì•¼ í•  ì ìœ¼ë¡œëŠ”, ëª¨ë“  ê¶ìˆ˜ë“¤ì´ ì ì„ ì„ íƒí•œ í›„ì— ì ì„ ì œì™¸í•œë‹¤ëŠ” ê²ƒ(ë™ì¼í•œ ì ì´ ì¡´ì¬í•  ìˆ˜ ìˆìŒ)ê³¼ ê°™ì€ ê±°ë¦¬ì— ìˆëŠ” ì ì´ ì—¬ëŸ¿ì´ ì¡´ì¬í•  ê²½ìš° ê°€ì¥ ì™¼ìª½ì˜ ì ì„ ì„ íƒí•œë‹¤ëŠ” ê²ƒì´ë‹¤.

ë²¡í„°ë‚˜ íë¥¼ ìƒˆë¡œ ì„ ì–¸í•  ê²Œ ì•„ë‹ˆë¼ë©´ ì´ˆê¸°í™”ë¥¼ ì˜í•˜ìğŸ¤¯

```cpp
#include <bits/stdc++.h>
using namespace std;

const int INF = 987654321;

int N, M, D;
int arr[15][15];
deque<pair<int,int> > enemy;
vector<int> archer;

int min_dist;
int max_kill = 0;


void play_game() {
  deque<pair<int,int> > tmp = enemy;
  vector<pair<int,int> > out;
  int dist, cnt = 0;

  while(tmp.size() != 0) {

    for(int i = 0; i < archer.size(); i++) {
      pair<int,int> min_pos(INF, INF);
      min_dist = INF;

      for(int j = 0; j < tmp.size(); j++) {
        dist = abs(tmp[j].first - N) + abs(tmp[j].second - archer[i]);
        if(dist <= D) {
          if(min_dist > dist || min_dist == dist && min_pos.second > tmp[j].second) {
            min_dist = dist;
            min_pos = tmp[j];
          }
        }
      }

      if(min_pos.first != INF && min_pos.second != INF)
        out.push_back(min_pos);
    }

    for(int i = 0; i < out.size(); i++) {
      for(int j = 0; j < tmp.size(); j++) {
        if(tmp[j].first == out[i].first && tmp[j].second == out[i].second) {
          tmp.erase(tmp.begin() + j);
          cnt++;
          break;
        }
      }
    }

    out.clear();

    int num = tmp.size();
    for(int i = 0; i < num; i++) {
      pair<int,int> pos = tmp[0];
      tmp.pop_front();
      pos.first += 1;
      if(pos.first < N)
        tmp.push_back(pos);
    }

  }

  max_kill = max(max_kill, cnt);
}

void dfs(int x, int num) {
  if(num == 3) {
    play_game();
    return;
  }
  for(int i = x + 1; i < M; i++) {
    if(find(archer.begin(), archer.end(), i) == archer.end()) {
      archer.push_back(i);
      dfs(i, num + 1);
      archer.pop_back();
    }
  }
}

int main() {
  std::ios::sync_with_stdio(false);
  cin.tie(NULL); cout.tie(NULL);

  cin >> N >> M >> D;
  for(int i = 0; i < N; i++) {
    for(int j = 0; j < M; j++) {
      cin >> arr[i][j];
      if(arr[i][j])
        enemy.push_back(make_pair(i, j));
    }
  }

  for(int i = 0; i < M; i++) {
    archer.push_back(i);
    dfs(i, 1);
    archer.pop_back();
  }

  cout << max_kill;
}
```
